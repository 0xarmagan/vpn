<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate VPN Compass 2026 - Final Edition</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --color-primary: #4F46E5; --color-primary-dark: #4338CA; --color-success: #10B981;
            --color-warning: #F59E0B; --color-danger: #F43F5E; --color-accent: #06B6D4;
            --color-bg: #0F172A; --color-bg-secondary: #1E293B; --color-bg-tertiary: #334155;
            --color-text: #F1F5F9; --color-text-muted: #94A3B8; --color-border: #334155;
        }
        [data-theme="light"] {
            --color-bg: #FFFFFF; --color-bg-secondary: #F8FAFC; --color-bg-tertiary: #E2E8F0;
            --color-text: #0F172A; --color-text-muted: #64748B; --color-border: #E2E8F0;
        }
        body { font-family: 'Inter', sans-serif; background: var(--color-bg); color: var(--color-text); line-height: 1.6; transition: all 0.3s; }
        .font-display { font-family: 'Space Grotesk', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Hero & Home Styles */
        .hero { background: linear-gradient(135deg, rgba(79, 70, 229, 0.1), rgba(6, 182, 212, 0.1)); padding: 80px 24px; text-align: center; border-radius: 24px; margin-bottom: 40px; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
        
        /* Layout Components */
        .card { background: var(--color-bg-secondary); border-radius: 16px; padding: 24px; border: 1px solid var(--color-border); transition: all 0.3s; }
        .card:hover { transform: translateY(-4px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        .btn { padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; border: none; display: inline-flex; align-items: center; gap: 8px; transition: 0.2s; }
        .btn-primary { background: var(--color-primary); color: white; }
        .btn-secondary { background: var(--color-bg-tertiary); color: var(--color-text); }
        
        .tabs { display: flex; gap: 8px; border-bottom: 2px solid var(--color-border); margin-bottom: 24px; position: sticky; top: 70px; background: var(--color-bg); z-index: 40; padding-top: 10px; }
        .tab { padding: 12px 24px; background: none; border: none; color: var(--color-text-muted); font-weight: 600; cursor: pointer; border-bottom: 2px solid transparent; }
        .tab.active { color: var(--color-primary); border-bottom-color: var(--color-primary); }
        
        /* Grid System */
        .filters-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px; }
        .vpn-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); gap: 24px; }
        
        /* Badges */
        .score-badge { padding: 4px 12px; border-radius: 9999px; font-weight: 600; font-family: 'JetBrains Mono'; }
        .score-5 { background: var(--color-success); color: white; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 12px; font-size: 0.75rem; font-weight: 600; background: var(--color-bg-tertiary); }
        
        /* Modal & Progress */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(4px); }
        .modal { background: var(--color-bg); border-radius: 16px; padding: 32px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; }
        .progress-bar { width: 100%; height: 8px; background: var(--color-bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--color-primary); transition: width 0.3s; }
        
        input, select { background: var(--color-bg-secondary); border: 1px solid var(--color-border); color: var(--color-text); padding: 10px; border-radius: 8px; width: 100%; }
        .slider { width: 100%; height: 6px; border-radius: 3px; background: var(--color-bg-tertiary); outline: none; -webkit-appearance: none; }
        .slider::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; background: var(--color-primary); cursor: pointer; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // VPN Verisi (complete_vpn_data.json i√ßeriƒüi buraya gelecek)
        const vpnData = [
            /* JSON verisindeki 26 VPN buraya eklenecek. √ñrnek ilk 2: */
            {
                name: "NordVPN", overallScore: 95, rank: 1, bestFor: "Overall Excellence",
                price: { monthly: "$12.99", annual: "$4.49", twoYear: "$3.39" },
                servers: "8000+", countries: "126+", noLogs: "Verified", jurisdiction: "Panama",
                streaming: "Excellent", speeds: { download: 455, loss: 9, latency: 25 },
                features: { killSwitch: true, splitTunnel: true, adBlock: true },
                protocols: ["WireGuard", "OpenVPN"]
            },
            {
                name: "ProtonVPN", overallScore: 94, rank: 2, bestFor: "Privacy & Security",
                price: { monthly: "‚Ç¨9.99", annual: "‚Ç¨5.99", twoYear: "‚Ç¨4.99" },
                servers: "15330+", countries: "126+", noLogs: "Verified", jurisdiction: "Switzerland",
                streaming: "Excellent", speeds: { download: 430, loss: 14, latency: 30 },
                features: { killSwitch: true, splitTunnel: true, adBlock: true },
                protocols: ["WireGuard", "OpenVPN"]
            },
            /* ... Diƒüer 24 VPN ... */
        ];

        // Quick Picks (Phase 1'den)
        const quickPicks = [
            { category: "Best Overall", winner: "NordVPN", reason: "Excellent balance of features, privacy, and usability" },
            { category: "Best for Privacy", winner: "Mullvad", reason: "Open-source, audited, accepts cash" },
            { category: "Best Value", winner: "Surfshark", reason: "Unlimited devices at low price" },
            { category: "Best for Speed", winner: "NordVPN", reason: "Consistently fastest across regions" }
        ];

        function App() {
            const [activeTab, setActiveTab] = useState('home');
            const [theme, setTheme] = useState('dark');
            const [favorites, setFavorites] = useState(() => JSON.parse(localStorage.getItem('vpn_favs') || '[]'));
            const [compareList, setCompareList] = useState([]);
            const [showQuiz, setShowQuiz] = useState(false);

            useEffect(() => {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('vpn_favs', JSON.stringify(favorites));
            }, [theme, favorites]);

            const toggleFav = (name) => setFavorites(f => f.includes(name) ? f.filter(n => n !== name) : [...f, name]);
            const toggleComp = (name) => setCompareList(c => c.includes(name) ? c.filter(n => n !== name) : (c.length < 4 ? [...c, name] : c));

            return (
                <div style={{ minHeight: '100vh' }}>
                    <Header theme={theme} setTheme={setTheme} />
                    
                    <main style={{ maxWidth: '1400px', margin: '0 auto', padding: '0 24px 40px' }}>
                        <div className="tabs">
                            <button className={`tab ${activeTab === 'home' ? 'active' : ''}`} onClick={() => setActiveTab('home')}>Home</button>
                            <button className={`tab ${activeTab === 'all' ? 'active' : ''}`} onClick={() => setActiveTab('all')}>Compare All (26)</button>
                            <button className={`tab ${activeTab === 'favs' ? 'active' : ''}`} onClick={() => setActiveTab('favs')}>Favorites ({favorites.length})</button>
                            <button className={`tab ${activeTab === 'speed' ? 'active' : ''}`} onClick={() => setActiveTab('speed')}>Speed Analysis</button>
                        </div>

                        <div style={{ display: 'flex', gap: '12px', marginBottom: '24px' }}>
                            <button className="btn btn-primary" onClick={() => setShowQuiz(true)}>üéØ Take Finder Quiz</button>
                            <button className="btn btn-secondary" onClick={() => {/* Export Logic */}}>üíæ Export Data</button>
                        </div>

                        {activeTab === 'home' && <HomeView picks={quickPicks} onNavigate={setActiveTab} />}
                        {activeTab === 'all' && <ComparisonView vpns={vpnData} favs={favorites} toggleFav={toggleFav} compList={compareList} toggleComp={toggleComp} />}
                        {activeTab === 'favs' && <ComparisonView vpns={vpnData.filter(v => favorites.includes(v.name))} favs={favorites} toggleFav={toggleFav} compList={compareList} toggleComp={toggleComp} />}
                        {activeTab === 'speed' && <SpeedView vpns={vpnData} />}
                    </main>

                    {showQuiz && <QuizModal vpns={vpnData} onClose={() => setShowQuiz(false)} />}
                </div>
            );
        }

        // --- View Components ---

        function HomeView({ picks, onNavigate }) {
            return (
                <div className="animate-fade-in-up">
                    <section className="hero">
                        <span className="font-mono" style={{ background: 'var(--color-primary)', color: 'white', padding: '6px 16px', borderRadius: '20px', fontSize: '0.8rem' }}>UPDATED JANUARY 2026</span>
                        <h1 className="font-display" style={{ fontSize: 'clamp(2.5rem, 5vw, 4rem)', margin: '20px 0' }}>Find Your Perfect VPN</h1>
                        <p style={{ color: 'var(--color-text-muted)', fontSize: '1.25rem', maxWidth: '700px', margin: '0 auto 40px' }}>Independent, transparent comparison of 26 VPN providers across 15 critical categories.</p>
                        <div style={{ display: 'flex', gap: '16px', justifyContent: 'center' }}>
                            <button className="btn btn-primary" style={{ padding: '14px 32px' }} onClick={() => onNavigate('all')}>Compare All VPNs</button>
                            <button className="btn btn-secondary" style={{ padding: '14px 32px' }}>See Methodlogy</button>
                        </div>
                    </section>

                    <h2 className="font-display" style={{ marginBottom: '24px' }}>Quick Recommendations</h2>
                    <div className="filters-grid">
                        {picks.map((pick, i) => (
                            <div key={i} className="card">
                                <div className="font-mono" style={{ color: 'var(--color-primary)', fontSize: '0.75rem', fontWeight: 'bold' }}>{pick.category}</div>
                                <h3 className="font-display" style={{ margin: '8px 0' }}>{pick.winner}</h3>
                                <p style={{ color: 'var(--color-text-muted)', fontSize: '0.85rem' }}>{pick.reason}</p>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function ComparisonView({ vpns, favs, toggleFav, compList, toggleComp }) {
            const [filters, setFilters] = useState({ search: '', minScore: 0, maxPrice: 20 });
            
            const filtered = useMemo(() => {
                return vpns.filter(v => 
                    v.name.toLowerCase().includes(filters.search.toLowerCase()) &&
                    v.overallScore >= filters.minScore
                );
            }, [vpns, filters]);

            return (
                <div className="animate-fade-in-up">
                    <div className="card" style={{ marginBottom: '32px' }}>
                        <div className="filters-grid">
                            <div>
                                <label style={{ fontSize: '0.8rem', fontWeight: 'bold' }}>Search</label>
                                <input type="text" placeholder="Name..." onChange={e => setFilters({...filters, search: e.target.value})} />
                            </div>
                            <div>
                                <label style={{ fontSize: '0.8rem', fontWeight: 'bold' }}>Min Score: {filters.minScore}</label>
                                <input type="range" className="slider" min="0" max="100" value={filters.minScore} onChange={e => setFilters({...filters, minScore: parseInt(e.target.value)})} />
                            </div>
                            <div>
                                <label style={{ fontSize: '0.8rem', fontWeight: 'bold' }}>Max Price: ${filters.maxPrice}</label>
                                <input type="range" className="slider" min="0" max="20" value={filters.maxPrice} onChange={e => setFilters({...filters, maxPrice: parseInt(e.target.value)})} />
                            </div>
                        </div>
                        <div style={{ fontSize: '0.9rem', color: 'var(--color-text-muted)' }}>Showing {filtered.length} of 26 VPNs</div>
                    </div>

                    <div className="vpn-grid">
                        {filtered.map(vpn => (
                            <VPNCard key={vpn.name} vpn={vpn} isFav={favs.includes(vpn.name)} toggleFav={() => toggleFav(vpn.name)} isComp={compList.includes(vpn.name)} toggleComp={() => toggleComp(vpn.name)} />
                        ))}
                    </div>
                </div>
            );
        }

        function VPNCard({ vpn, isFav, toggleFav, isComp, toggleComp }) {
            const [expand, setExpand] = useState(false);
            return (
                <div className="card">
                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '16px' }}>
                        <div>
                            <h3 className="font-display">{vpn.name}</h3>
                            <span className="score-badge score-5">{vpn.overallScore}/100</span>
                        </div>
                        <div style={{ display: 'flex', gap: '8px' }}>
                            <button onClick={toggleFav} style={{ background: 'none', border: 'none', cursor: 'pointer', fontSize: '1.2rem' }}>{isFav ? '‚ù§Ô∏è' : 'ü§ç'}</button>
                            <button onClick={toggleComp} className="btn btn-secondary" style={{ padding: '4px 8px', fontSize: '0.7rem' }}>{isComp ? '‚úì Comp' : '+ Comp'}</button>
                        </div>
                    </div>
                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px', fontSize: '0.85rem', marginBottom: '16px' }}>
                        <div className="font-mono"><b>Price:</b> {vpn.price.annual}/mo</div>
                        <div className="font-mono"><b>Speed:</b> {vpn.speeds.download} Mbps</div>
                    </div>
                    {expand && (
                        <div style={{ background: 'var(--color-bg-tertiary)', padding: '12px', borderRadius: '8px', marginBottom: '16px', fontSize: '0.8rem' }}>
                            <div><b>Jurisdiction:</b> {vpn.jurisdiction}</div>
                            <div><b>No-Logs:</b> {vpn.noLogs}</div>
                            <div><b>Protocols:</b> {vpn.protocols.join(', ')}</div>
                        </div>
                    )}
                    <button className="btn btn-primary" style={{ width: '100%', justifyContent: 'center' }} onClick={() => setExpand(!expand)}>{expand ? 'Show Less' : 'Show Details'}</button>
                </div>
            );
        }

        function SpeedView({ vpns }) {
            const canvasRef = useRef(null);
            useEffect(() => {
                if (canvasRef.current) {
                    const ctx = canvasRef.current.getContext('2d');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: vpns.slice(0, 10).map(v => v.name),
                            datasets: [{ label: 'Download Speed (Mbps)', data: vpns.slice(0, 10).map(v => v.speeds.download), backgroundColor: '#4F46E5' }]
                        },
                        options: { responsive: true, maintainAspectRatio: false }
                    });
                }
            }, [vpns]);
            return (
                <div className="card animate-fade-in-up">
                    <h2 className="font-display" style={{ marginBottom: '20px' }}>Speed Comparison (Top 10)</h2>
                    <div style={{ height: '400px' }}><canvas ref={canvasRef}></canvas></div>
                </div>
            );
        }

        // --- Header & Global ---
        function Header({ theme, setTheme }) {
            return (
                <header style={{ position: 'sticky', top: 0, zIndex: 50, background: 'var(--color-bg)', borderBottom: '1px solid var(--color-border)', padding: '16px 24px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                    <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                        <div style={{ width: '40px', height: '40px', background: 'var(--color-primary)', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontWeight: 'bold' }}>V</div>
                        <h1 className="font-display" style={{ fontSize: '1.25rem' }}>VPN Compass</h1>
                    </div>
                    <button onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')} className="btn btn-secondary">{theme === 'dark' ? '‚òÄÔ∏è' : 'üåô'}</button>
                </header>
            );
        }

        function QuizModal({ vpns, onClose }) {
            return (
                <div className="modal-overlay">
                    <div className="modal">
                        <h2 className="font-display">VPN Finder Quiz</h2>
                        <p style={{ margin: '16px 0' }}>Analyzing 26 providers to find your match...</p>
                        <div className="progress-bar"><div className="progress-fill" style={{ width: '50%' }}></div></div>
                        <button className="btn btn-primary" style={{ marginTop: '20px' }} onClick={onClose}>Close</button>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
