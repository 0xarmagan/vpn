<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPN Compass 2026</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Google Stitch / Material You Palette (Light Mode Default) */
            --md-sys-color-primary: #00639B;
            --md-sys-color-on-primary: #FFFFFF;
            --md-sys-color-primary-container: #CEE5FF;
            --md-sys-color-on-primary-container: #001D33;
            
            --md-sys-color-secondary: #51606F;
            --md-sys-color-secondary-container: #D5E4F7;
            
            --md-sys-color-tertiary: #68548E; /* Soft Purple Accent */
            --md-sys-color-tertiary-container: #EADDFF;
            
            --md-sys-color-surface: #F8F9FF;
            --md-sys-color-surface-container: #F0F4F8;
            --md-sys-color-surface-container-high: #E8EDF2;
            
            --md-sys-color-outline: #72777F;
            --md-sys-color-outline-variant: #C2C7CF;
            
            --md-sys-color-on-surface: #191C20;
            --md-sys-color-on-surface-variant: #43474E;
            
            --md-sys-color-success: #2E7D32;
            --md-sys-color-success-container: #B7F397;
            
            /* Typography */
            --font-display: 'DM Sans', sans-serif;
            --font-body: 'Inter', sans-serif;
            
            --radius-xl: 28px;
            --radius-lg: 16px;
            --radius-md: 12px;
            --radius-full: 999px;
            
            --shadow-1: 0px 1px 3px 1px rgba(0, 0, 0, 0.15), 0px 1px 2px 0px rgba(0, 0, 0, 0.3);
            --shadow-2: 0px 4px 8px 3px rgba(0, 0, 0, 0.15), 0px 1px 3px 0px rgba(0, 0, 0, 0.3);
        }

        [data-theme="dark"] {
            --md-sys-color-primary: #97CBFF;
            --md-sys-color-on-primary: #003353;
            --md-sys-color-primary-container: #004A76;
            --md-sys-color-on-primary-container: #CEE5FF;
            
            --md-sys-color-secondary: #B9C8DA;
            --md-sys-color-secondary-container: #3A4857;
            
            --md-sys-color-tertiary: #D0BCFF;
            --md-sys-color-tertiary-container: #4F3D75;
            
            --md-sys-color-surface: #111315;
            --md-sys-color-surface-container: #1D2024;
            --md-sys-color-surface-container-high: #272A2F;
            
            --md-sys-color-outline: #8C9199;
            --md-sys-color-outline-variant: #43474E;
            
            --md-sys-color-on-surface: #E2E2E6;
            --md-sys-color-on-surface-variant: #C2C7CF;
            
            --md-sys-color-success: #4ADE80;
            --md-sys-color-success-container: #14532D;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }

        body {
            background-color: var(--md-sys-color-surface);
            color: var(--md-sys-color-on-surface);
            font-family: var(--font-body);
            overflow-x: hidden;
            min-height: 100vh;
            transition: background-color 0.3s ease;
        }

        /* Typography Styles */
        h1, h2, h3, h4 { font-family: var(--font-display); font-weight: 500; letter-spacing: -0.02em; }
        .text-label-lg { font-size: 1rem; font-weight: 600; font-family: var(--font-display); }
        .text-body-md { font-size: 0.95rem; line-height: 1.5; color: var(--md-sys-color-on-surface-variant); }
        .text-primary { color: var(--md-sys-color-primary); }

        /* HEADER */
        .stitch-header {
            position: sticky; top: 0; z-index: 100;
            background: rgba(var(--md-sys-color-surface), 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--md-sys-color-surface-container-high);
            padding: 16px 24px; display: flex; justify-content: space-between; align-items: center;
        }
        
        .logo-pill {
            display: flex; align-items: center; gap: 12px;
            background: var(--md-sys-color-secondary-container);
            color: var(--md-sys-color-on-surface);
            padding: 8px 20px 8px 8px; border-radius: var(--radius-full);
        }
        .logo-icon {
            width: 32px; height: 32px; background: var(--md-sys-color-primary); 
            color: var(--md-sys-color-on-primary); border-radius: 50%;
            display: grid; placeItems: center; font-weight: bold; font-family: var(--font-display);
        }

        /* NAVIGATION PILLS */
        .nav-container {
            background: var(--md-sys-color-surface);
            border-bottom: 1px solid var(--md-sys-color-surface-container-high);
            position: sticky; top: 73px; z-index: 90;
            padding: 16px 24px;
        }
        .nav-pills {
            display: flex; gap: 8px; overflow-x: auto; 
            max-width: 1440px; margin: 0 auto;
            scrollbar-width: none;
        }
        .nav-pill {
            border: 1px solid var(--md-sys-color-outline-variant);
            background: transparent;
            color: var(--md-sys-color-on-surface-variant);
            padding: 8px 24px; border-radius: var(--radius-full);
            font-family: var(--font-display); font-weight: 500; font-size: 0.9rem;
            cursor: pointer; transition: all 0.2s ease;
            white-space: nowrap;
        }
        .nav-pill:hover { background: var(--md-sys-color-surface-container-high); }
        .nav-pill.active {
            background: var(--md-sys-color-secondary-container);
            color: var(--md-sys-color-on-primary-container);
            border-color: transparent;
        }

        /* HERO CARD */
        .hero-card {
            background: var(--md-sys-color-surface-container);
            border-radius: var(--radius-xl);
            padding: 64px 24px; text-align: center;
            margin: 24px;
        }
        .badge-soft {
            display: inline-block; padding: 6px 16px;
            background: var(--md-sys-color-tertiary-container);
            color: var(--md-sys-color-on-surface);
            border-radius: 8px; font-size: 0.8rem; font-weight: 600;
            margin-bottom: 24px;
        }

        /* CARDS & GRID */
        .layout-grid {
            max-width: 1440px; margin: 0 auto; padding: 24px;
            display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 24px;
        }
        
        .stitch-card {
            background: var(--md-sys-color-surface-container-high);
            border-radius: var(--radius-lg);
            padding: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid transparent;
            display: flex; flex-direction: column;
        }
        .stitch-card:hover {
            background: var(--md-sys-color-surface-container);
            box-shadow: var(--shadow-2);
            transform: translateY(-2px);
        }
        .highlight-card {
            border: 2px solid var(--md-sys-color-primary);
            background: var(--md-sys-color-primary-container);
        }

        .card-header-row {
            display: flex; justify-content: space-between; align-items: flex-start;
            margin-bottom: 20px;
        }
        .rank-badge {
            font-size: 0.75rem; font-weight: 700; 
            color: var(--md-sys-color-primary); letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        .score-circle {
            width: 48px; height: 48px; border-radius: 50%;
            background: var(--md-sys-color-primary-container);
            color: var(--md-sys-color-on-primary-container);
            display: flex; align-items: center; justify-content: center;
            font-weight: 700; font-family: var(--font-display);
        }

        /* DATA PILLS */
        .data-pill-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 20px;
        }
        .data-pill {
            background: var(--md-sys-color-surface);
            padding: 12px; border-radius: var(--radius-md);
        }
        .data-label { font-size: 0.75rem; color: var(--md-sys-color-secondary); display: block; }
        .data-val { font-weight: 600; color: var(--md-sys-color-on-surface); }

        /* TABS INSIDE CARD */
        .inner-tabs {
            display: flex; gap: 8px; overflow-x: auto; margin-bottom: 16px;
            padding-bottom: 4px; border-bottom: 1px solid var(--md-sys-color-outline-variant);
        }
        .inner-tab {
            font-size: 0.8rem; font-weight: 500; color: var(--md-sys-color-secondary);
            background: none; border: none; cursor: pointer; padding: 8px 4px;
            position: relative; white-space: nowrap;
        }
        .inner-tab.active { color: var(--md-sys-color-primary); }
        .inner-tab.active::after {
            content: ''; position: absolute; bottom: -5px; left: 0; width: 100%; height: 3px;
            background: var(--md-sys-color-primary); border-radius: 3px 3px 0 0;
        }

        /* BUTTONS */
        .btn {
            border: none; cursor: pointer; font-family: var(--font-display); font-weight: 500;
            padding: 12px 24px; border-radius: var(--radius-full);
            transition: 0.2s; display: inline-flex; align-items: center; justify-content: center;
        }
        .btn-filled {
            background: var(--md-sys-color-primary);
            color: var(--md-sys-color-on-primary);
        }
        .btn-filled:hover { box-shadow: var(--shadow-1); opacity: 0.9; }
        
        .btn-tonal {
            background: var(--md-sys-color-secondary-container);
            color: var(--md-sys-color-on-secondary-container);
            width: 100%;
        }
        .btn-tonal:hover { background: var(--md-sys-color-outline-variant); }

        .btn-icon {
            width: 40px; height: 40px; border-radius: 50%;
            display: grid; place-items: center; border: 1px solid var(--md-sys-color-outline-variant);
            background: transparent; color: var(--md-sys-color-on-surface-variant);
        }
        .btn-icon.active {
            background: #FFD8E4; color: #31111D; border-color: transparent;
        }

        /* DECISION CARDS (Landing) */
        .decision-card {
            background: var(--md-sys-color-surface-container-high);
            border-radius: var(--radius-xl); padding: 32px;
            cursor: pointer; transition: all 0.3s ease;
            display: flex; flex-direction: column; height: 100%;
        }
        .decision-card:hover {
            background: var(--md-sys-color-tertiary-container);
            transform: scale(1.02);
        }
        .decision-icon { font-size: 2.5rem; margin-bottom: 16px; }
        
        /* SPEED BARS (Material Style) */
        .speed-track {
            height: 12px; background: var(--md-sys-color-surface-container-high);
            border-radius: var(--radius-full); overflow: hidden; margin-top: 8px;
        }
        .speed-fill {
            height: 100%; background: var(--md-sys-color-primary);
            border-radius: var(--radius-full);
        }

        /* FAB */
        .fab {
            position: fixed; bottom: 32px; right: 32px;
            background: var(--md-sys-color-tertiary-container);
            color: var(--md-sys-color-on-surface);
            padding: 16px 24px; border-radius: 16px;
            box-shadow: var(--shadow-2);
            font-weight: 600; border: none; cursor: pointer;
            z-index: 200; display: flex; align-items: center; gap: 12px;
            font-family: var(--font-display);
        }
        .fab:hover { transform: translateY(-2px); }

        /* MODAL */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1000;
            display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px);
        }
        .modal-surface {
            background: var(--md-sys-color-surface);
            border-radius: var(--radius-xl); padding: 32px;
            max-width: 600px; width: 90%; box-shadow: var(--shadow-2);
        }

        /* ANIMATIONS */
        .animate-fade-up { animation: fadeUp 0.5s ease-out forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // --- DATASET ---
        const ALL_VPN_DATA = [
            { name: "NordVPN", rank: 1, overallScore: 9.8, bestFor: "Overall Excellence", price: { monthly: "$12.99", annual: "$4.49", twoYear: "$3.39" }, devices: 10, servers: "8000+", countries: "111", noLogs: "Verified (x4)", jurisdiction: "Panama", streaming: "Excellent", speeds: { download: 455, upload: 92, loss: 9, latency: 25 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["NordLynx", "OpenVPN"], encryption: "AES-256", audit: "Deloitte '25", moneyBack: "30 days", support: 9, platforms: ["Win", "Mac", "iOS", "And", "Lin", "TV"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "Crypto", "PayPal", "Google"], details: { streaming: "Unblocks 15+ regions", security: "Ram-only servers, DoubleVPN", privacy: "PwC Audited 4 times" } },
            { name: "Surfshark", rank: 2, overallScore: 9.6, bestFor: "Value & Unlimited", price: { monthly: "$15.45", annual: "$2.99", twoYear: "$1.99" }, devices: "Unlimited", servers: "3200+", countries: "100", noLogs: "Verified", jurisdiction: "Netherlands", streaming: "Excellent", speeds: { download: 445, upload: 90, loss: 11, latency: 28 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "ChaCha20", audit: "Deloitte '24", moneyBack: "30 days", support: 9, platforms: ["Win", "Mac", "iOS", "And", "Lin", "TV"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "Crypto", "PayPal", "Amazon"], details: { streaming: "Dedicated IP option", security: "Camouflage Mode", privacy: "Warrant Canary active" } },
            { name: "ProtonVPN", rank: 3, overallScore: 9.4, bestFor: "Security/Privacy", price: { monthly: "‚Ç¨9.99", annual: "‚Ç¨5.99", twoYear: "‚Ç¨4.99" }, devices: 10, servers: "4000+", countries: "85", noLogs: "Verified", jurisdiction: "Switzerland", streaming: "Excellent", speeds: { download: 430, upload: 88, loss: 14, latency: 30 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "ChaCha20", audit: "Securitum '25", moneyBack: "30 days", support: 9, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "Bitcoin", "Cash", "PayPal"], details: { streaming: "Stealth protocol", security: "Secure Core architecture", privacy: "Swiss Data Laws" } },
            { name: "ExpressVPN", rank: 4, overallScore: 9.1, bestFor: "Ease of Use", price: { monthly: "$12.95", annual: "$6.67", twoYear: "$6.67" }, devices: 8, servers: "3000+", countries: "105", noLogs: "Verified", jurisdiction: "BVI", streaming: "Excellent", speeds: { download: 410, upload: 82, loss: 18, latency: 31 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["Lightway", "OpenVPN"], encryption: "AES-256", audit: "KPMG '24", moneyBack: "30 days", support: 9, platforms: ["Win", "Mac", "iOS", "And", "Lin", "Router"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "Bitcoin", "PayPal"], details: { streaming: "Apple TV app", security: "TrustedServer Tech", privacy: "No HDD logs" } },
            { name: "Mullvad", rank: 5, overallScore: 9.0, bestFor: "Anonymity", price: { monthly: "‚Ç¨5.00", annual: "‚Ç¨5.00", twoYear: "‚Ç¨5.00" }, devices: 5, servers: "650+", countries: "43", noLogs: "Verified", jurisdiction: "Sweden", streaming: "Poor", speeds: { download: 425, upload: 85, loss: 15, latency: 32 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Ros '24", moneyBack: "30 days", support: 7, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: false, hulu: false, bbc: false, disney: false }, paymentMethods: ["Cash", "Crypto", "Voucher", "Card"], details: { streaming: "Not optimized", security: "Quantum-resistant", privacy: "No email required" } },
            { name: "PIA", rank: 6, overallScore: 8.8, bestFor: "US/Torrenting", price: { monthly: "$11.95", annual: "$3.33", twoYear: "$2.03" }, devices: "Unlimited", servers: "35000+", countries: "91", noLogs: "Verified", jurisdiction: "USA", streaming: "Good", speeds: { download: 380, upload: 76, loss: 24, latency: 35 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Deloitte '24", moneyBack: "30 days", support: 8, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "Crypto", "PayPal", "Gift Card"], details: { streaming: "Optimized US servers", security: "Open Source apps", privacy: "Court proven no-logs" } },
            { name: "CyberGhost", rank: 7, overallScore: 8.7, bestFor: "Streaming", price: { monthly: "‚Ç¨12.99", annual: "‚Ç¨6.99", twoYear: "‚Ç¨2.03" }, devices: 7, servers: "11500+", countries: "100", noLogs: "Verified", jurisdiction: "Romania", streaming: "Excellent", speeds: { download: 420, upload: 84, loss: 16, latency: 33 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Deloitte '24", moneyBack: "45 days", support: 9, platforms: ["Win", "Mac", "iOS", "And", "Lin", "TV"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "PayPal", "Bitcoin"], details: { streaming: "Dedicated streaming servers", security: "NoSpy servers", privacy: "Transparency reports" } },
            { name: "Windscribe", rank: 8, overallScore: 8.5, bestFor: "Free/Flexible", price: { monthly: "$9.00", annual: "$5.75", twoYear: "$5.75" }, devices: "Unlimited", servers: "480", countries: "69", noLogs: "Claimed", jurisdiction: "Canada", streaming: "Good", speeds: { download: 350, upload: 70, loss: 30, latency: 45 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "KPMG '24", moneyBack: "3 days", support: 6, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "Crypto", "PayPal"], details: { streaming: "Windflix servers", security: "R.O.B.E.R.T blocking", privacy: "Transparency report" } },
            { name: "IVPN", rank: 9, overallScore: 8.3, bestFor: "Transparency", price: { monthly: "$6.00", annual: "$5.00", twoYear: "$5.00" }, devices: 7, servers: "77", countries: "32", noLogs: "Verified", jurisdiction: "Gibraltar", streaming: "Poor", speeds: { download: 390, upload: 80, loss: 12, latency: 29 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "ChaCha20", audit: "Cure53", moneyBack: "30 days", support: 8, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: false, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "Cash", "Monero"], details: { streaming: "No support", security: "Anti-tracker", privacy: "No personal data" } },
            { name: "Hide.me", rank: 10, overallScore: 8.1, bestFor: "Free Tier", price: { monthly: "$9.95", annual: "$4.99", twoYear: "$2.59" }, devices: 10, servers: "2600", countries: "90", noLogs: "Verified", jurisdiction: "Malaysia", streaming: "Good", speeds: { download: 385, upload: 75, loss: 20, latency: 34 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Leon Juranic", moneyBack: "30 days", support: 8, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: true, hulu: false, bbc: true, disney: true }, paymentMethods: ["Card", "Crypto", "PayPal"], details: { streaming: "Streaming support", security: "Stealth Guard", privacy: "Zero logs" } },
            { name: "IPVanish", rank: 11, overallScore: 8.0, bestFor: "Unlimited Dev", price: { monthly: "$12.99", annual: "$3.33", twoYear: "$2.19" }, devices: "Unlimited", servers: "2400+", countries: "90", noLogs: "Verified", jurisdiction: "USA", streaming: "Good", speeds: { download: 415, upload: 80, loss: 15, latency: 30 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Leviathan", moneyBack: "30 days", support: 8, platforms: ["Win", "Mac", "iOS", "And", "Lin", "TV"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: false }, paymentMethods: ["Card", "PayPal", "Google"], details: { streaming: "Good speeds", security: "Scramble", privacy: "Verified no-logs" } },
            { name: "PrivadoVPN", rank: 12, overallScore: 7.9, bestFor: "Budget Streaming", price: { monthly: "$10.99", annual: "$2.50", twoYear: "$1.99" }, devices: 10, servers: "800+", countries: "49", noLogs: "Claimed", jurisdiction: "Switzerland", streaming: "Good", speeds: { download: 340, upload: 60, loss: 25, latency: 40 }, features: { killSwitch: true, splitTunnel: false, adBlock: true, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "None", moneyBack: "30 days", support: 7, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Unblocks major sites", security: "Control Tower", privacy: "Swiss laws" } },
            { name: "PureVPN", rank: 13, overallScore: 7.8, bestFor: "Long Plans", price: { monthly: "$10.95", annual: "$3.74", twoYear: "$2.11" }, devices: 10, servers: "6000+", countries: "65", noLogs: "Verified", jurisdiction: "BVI", streaming: "Good", speeds: { download: 360, upload: 65, loss: 25, latency: 38 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "KPMG", moneyBack: "31 days", support: 7, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: false }, paymentMethods: ["Card", "Crypto", "PayPal"], details: { streaming: "Dedicated servers", security: "Quantum resistant keys", privacy: "Always-on audit" } },
            { name: "AirVPN", rank: 14, overallScore: 7.7, bestFor: "Tech Users", price: { monthly: "‚Ç¨7.00", annual: "‚Ç¨4.08", twoYear: "‚Ç¨3.29" }, devices: 5, servers: "250", countries: "23", noLogs: "Verified", jurisdiction: "Italy", streaming: "Average", speeds: { download: 340, upload: 65, loss: 22, latency: 38 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: true }, protocols: ["OpenVPN", "WireGuard"], encryption: "AES-256", audit: "Internal", moneyBack: "30 days", support: 7, platforms: ["Win", "Mac", "Lin", "And"], streamingServices: { netflix: true, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "Crypto", "PayPal"], details: { streaming: "Not prioritized", security: "Tor over VPN", privacy: "GDPR compliant" } },
            { name: "VyprVPN", rank: 15, overallScore: 7.5, bestFor: "China/Censorship", price: { monthly: "$10.00", annual: "$5.00", twoYear: "$3.00" }, devices: 10, servers: "700+", countries: "70", noLogs: "Verified", jurisdiction: "Switzerland", streaming: "Good", speeds: { download: 310, upload: 55, loss: 25, latency: 42 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["Chameleon", "WireGuard"], encryption: "AES-256", audit: "Leviathan", moneyBack: "30 days", support: 8, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Unblocks most", security: "Chameleon protocol", privacy: "No 3rd parties" } },
            { name: "StrongVPN", rank: 16, overallScore: 7.4, bestFor: "Legacy Users", price: { monthly: "$11.99", annual: "$3.97", twoYear: "$3.97" }, devices: 12, servers: "950", countries: "30", noLogs: "Claimed", jurisdiction: "USA", streaming: "Average", speeds: { download: 320, upload: 60, loss: 28, latency: 40 }, features: { killSwitch: true, splitTunnel: false, adBlock: false, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "None", moneyBack: "30 days", support: 7, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: true, bbc: false, disney: false }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Basic unblocking", security: "WireGuard default", privacy: "US Jurisdiction" } },
             { name: "Hotspot Shield", rank: 17, overallScore: 7.2, bestFor: "Speed (Hydra)", price: { monthly: "$12.99", annual: "$7.99", twoYear: "$7.99" }, devices: 10, servers: "1800", countries: "80", noLogs: "Claimed", jurisdiction: "USA", streaming: "Good", speeds: { download: 440, upload: 90, loss: 8, latency: 24 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["Hydra"], encryption: "AES-128", audit: "None", moneyBack: "45 days", support: 8, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Fast streaming", security: "Hydra protocol", privacy: "US based" } },
            { name: "Bitdefender", rank: 18, overallScore: 7.0, bestFor: "Antivirus Bundle", price: { monthly: "$6.99", annual: "$2.50", twoYear: "$2.50" }, devices: 10, servers: "4000", countries: "53", noLogs: "Claimed", jurisdiction: "Romania", streaming: "Average", speeds: { download: 420, upload: 85, loss: 10, latency: 26 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["Hydra"], encryption: "AES-256", audit: "PwC", moneyBack: "30 days", support: 7, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Basic", security: "Antivirus integration", privacy: "Romania jurisdiction" } },
            { name: "TunnelBear", rank: 19, overallScore: 6.8, bestFor: "Beginners", price: { monthly: "$9.99", annual: "$3.33", twoYear: "$3.33" }, devices: "Unlimited", servers: "5000", countries: "47", noLogs: "Verified", jurisdiction: "Canada", streaming: "Poor", speeds: { download: 280, upload: 45, loss: 35, latency: 50 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["OpenVPN", "IKEv2"], encryption: "AES-256", audit: "Cure53", moneyBack: "0 days", support: 7, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: false, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "Bitcoin"], details: { streaming: "Not for streaming", security: "VigilantBear", privacy: "Annual audits" } },
            { name: "Mozilla VPN", rank: 20, overallScore: 6.5, bestFor: "Firefox Users", price: { monthly: "$9.99", annual: "$4.99", twoYear: "$4.99" }, devices: 5, servers: "500+", countries: "30", noLogs: "Claimed", jurisdiction: "USA", streaming: "Poor", speeds: { download: 400, upload: 80, loss: 15, latency: 32 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["WireGuard"], encryption: "ChaCha20", audit: "Cure53", moneyBack: "30 days", support: 6, platforms: ["Win", "Mac", "iOS", "And", "Lin"], streamingServices: { netflix: false, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Limited", security: "Mullvad servers", privacy: "Mozilla brand" } },
            { name: "Norton VPN", rank: 21, overallScore: 6.2, bestFor: "Norton 360", price: { monthly: "$4.99", annual: "$2.50", twoYear: "$2.50" }, devices: 5, servers: "2000", countries: "30", noLogs: "Claimed", jurisdiction: "USA", streaming: "Average", speeds: { download: 250, upload: 40, loss: 40, latency: 55 }, features: { killSwitch: false, splitTunnel: false, adBlock: true, portForward: false }, protocols: ["OpenVPN"], encryption: "AES-256", audit: "None", moneyBack: "60 days", support: 7, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Basic", security: "Bank-grade enc", privacy: "US jurisdiction" } },
            { name: "Avast", rank: 22, overallScore: 6.0, bestFor: "Avast Users", price: { monthly: "$4.99", annual: "$3.75", twoYear: "$3.75" }, devices: 10, servers: "700", countries: "34", noLogs: "Claimed", jurisdiction: "Czech", streaming: "Average", speeds: { download: 300, upload: 50, loss: 30, latency: 45 }, features: { killSwitch: true, splitTunnel: false, adBlock: false, portForward: false }, protocols: ["WireGuard"], encryption: "AES-256", audit: "None", moneyBack: "30 days", support: 6, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Hit or miss", security: "Smart VPN", privacy: "Collects some logs" } },
            { name: "Kaspersky", rank: 23, overallScore: 5.9, bestFor: "Kaspersky Users", price: { monthly: "$4.99", annual: "$2.50", twoYear: "$2.50" }, devices: 5, servers: "2000", countries: "35", noLogs: "Claimed", jurisdiction: "Russia/Switz", streaming: "Good", speeds: { download: 430, upload: 88, loss: 12, latency: 28 }, features: { killSwitch: true, splitTunnel: false, adBlock: false, portForward: false }, protocols: ["Hydra"], encryption: "AES-256", audit: "None", moneyBack: "30 days", support: 7, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: true, hulu: true, bbc: true, disney: false }, paymentMethods: ["Card", "PayPal"], details: { streaming: "Fast", security: "Kill Switch", privacy: "Jurisdiction risk" } },
            { name: "AdGuard VPN", rank: 24, overallScore: 5.5, bestFor: "AdBlocking", price: { monthly: "$11.99", annual: "$3.99", twoYear: "$2.99" }, devices: 5, servers: "100", countries: "50", noLogs: "Claimed", jurisdiction: "Cyprus", streaming: "Poor", speeds: { download: 220, upload: 35, loss: 50, latency: 65 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["Proprietary"], encryption: "AES-256", audit: "None", moneyBack: "30 days", support: 7, platforms: ["Win", "Mac", "iOS", "And"], streamingServices: { netflix: false, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "PayPal", "Crypto"], details: { streaming: "Not supported", security: "Custom protocol", privacy: "AdGuard DNS" } },
            { name: "Astrill", rank: 25, overallScore: 5.2, bestFor: "China Expat", price: { monthly: "$30.00", annual: "$15.00", twoYear: "$12.50" }, devices: 5, servers: "Unknown", countries: "57", noLogs: "Claimed", jurisdiction: "Seychelles", streaming: "Average", speeds: { download: 280, upload: 60, loss: 20, latency: 150 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["OpenWeb", "StealthVPN"], encryption: "AES-256", audit: "None", moneyBack: "0 days", support: 8, platforms: ["Win", "Mac", "iOS", "And", "Lin", "Router"], streamingServices: { netflix: true, hulu: false, bbc: false, disney: false }, paymentMethods: ["Card", "PayPal", "Bitcoin", "AliPay"], details: { streaming: "Focus on access", security: "Multi-hop", privacy: "No logs claimed" } },
            { name: "Opera VPN", rank: 26, overallScore: 4.0, bestFor: "Basic Browser Proxy", price: { monthly: "$0.00", annual: "$0.00", twoYear: "$0.00" }, devices: 1, servers: "Unknown", countries: "3", noLogs: "Claimed", jurisdiction: "Norway", streaming: "Poor", speeds: { download: 150, upload: 20, loss: 60, latency: 80 }, features: { killSwitch: false, splitTunnel: false, adBlock: true, portForward: false }, protocols: ["HTTPS"], encryption: "TLS 1.3", audit: "None", moneyBack: "N/A", support: 5, platforms: ["Browser"], streamingServices: { netflix: false, hulu: false, bbc: false, disney: false }, paymentMethods: ["Free"], details: { streaming: "None", security: "Browser only", privacy: "Collects data" } }
        ];

        // --- COMPONENTS ---

        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [favorites, setFavorites] = useState(() => JSON.parse(localStorage.getItem('vpn_compass_favs') || '[]'));
            const [theme, setTheme] = useState('light');
            const [highlighted, setHighlighted] = useState(null);
            const [showMethodology, setShowMethodology] = useState(false);

            useEffect(() => { document.documentElement.setAttribute('data-theme', theme); }, [theme]);

            const toggleFav = (name) => {
                const newFavs = favorites.includes(name) ? favorites.filter(n => n !== name) : [...favorites, name];
                setFavorites(newFavs);
                localStorage.setItem('vpn_compass_favs', JSON.stringify(newFavs));
            };

            const handleRecommendationClick = (vpnName) => {
                setActiveTab('grid');
                setHighlighted(vpnName);
            };

            return (
                <div>
                    <Header theme={theme} setTheme={setTheme} />
                    <Nav activeTab={activeTab} setActiveTab={setActiveTab} />
                    
                    <main>
                        {activeTab === 'dashboard' && <DecisionMatrix onRecClick={handleRecommendationClick} />}
                        {activeTab === 'grid' && <GridView vpns={ALL_VPN_DATA} favorites={favorites} toggleFav={toggleFav} highlighted={highlighted} />}
                        {activeTab === 'compare' && <CompareView vpns={ALL_VPN_DATA} favorites={favorites} />}
                        {activeTab === 'speed' && <SpeedAnalysisView vpns={ALL_VPN_DATA} />}
                        {activeTab === 'favorites' && <GridView vpns={ALL_VPN_DATA.filter(v => favorites.includes(v.name))} favorites={favorites} toggleFav={toggleFav} emptyMsg="No favorites saved yet." />}
                    </main>

                    {favorites.length > 1 && activeTab !== 'compare' && (
                        <button className="fab" onClick={() => setActiveTab('compare')}>
                            <span>COMPARE ({favorites.length})</span>
                        </button>
                    )}

                    <Footer onMethodology={() => setShowMethodology(true)} />
                    {showMethodology && <MethodologyModal onClose={() => setShowMethodology(false)} />}
                </div>
            );
        }

        // --- HEADER ---
        function Header({ theme, setTheme }) {
            return (
                <header className="stitch-header">
                    <div className="logo-pill">
                        <div className="logo-icon">V</div>
                        <span style={{fontWeight:600}}>VPN Compass</span>
                    </div>
                    <button onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')} className="btn-icon" title="Toggle Theme">
                        {theme === 'dark' ? '‚òº' : '‚òæ'}
                    </button>
                </header>
            );
        }

        // --- NAV PILLS ---
        function Nav({ activeTab, setActiveTab }) {
            return (
                <nav className="nav-container">
                    <div className="nav-pills">
                        {['dashboard', 'grid', 'speed', 'favorites'].map(tab => (
                            <button key={tab} 
                                className={`nav-pill ${activeTab === tab ? 'active' : ''}`}
                                onClick={() => setActiveTab(tab)}>
                                {tab.charAt(0).toUpperCase() + tab.slice(1)}
                            </button>
                        ))}
                    </div>
                </nav>
            );
        }

        // --- DASHBOARD (DECISION MATRIX) ---
        function DecisionMatrix({ onRecClick }) {
            const useCases = [
                { icon: "üõ°Ô∏è", title: "Daily Driver", desc: "Best balance of speed, security & price.", rec: "NordVPN" },
                { icon: "üé•", title: "The Streamer", desc: "Unblocks Netflix, Hulu, BBC & Disney+.", rec: "Surfshark" },
                { icon: "üïµÔ∏è", title: "Maximum Privacy", desc: "No email, cash payments, RAM servers.", rec: "Mullvad" },
                { icon: "‚úàÔ∏è", title: "The Traveler", desc: "Works in restrictive regions (China/UAE).", rec: "Astrill" },
                { icon: "üí∏", title: "Budget Conscious", desc: "Lowest price for premium features.", rec: "Surfshark" },
                { icon: "üè¥‚Äç‚ò†Ô∏è", title: "Torrent/P2P", desc: "Port forwarding & proven no-logs.", rec: "ProtonVPN" },
                { icon: "üéÆ", title: "The Gamer", desc: "Lowest latency & DDoS protection.", rec: "NordVPN" },
                { icon: "üë®‚Äçüíª", title: "The Developer", desc: "Linux GUI, WireGuard config & API.", rec: "IVPN" }
            ];

            return (
                <div className="animate-fade-up">
                    <div className="hero-card">
                        <span className="badge-soft">2026 INTELLIGENCE REPORT</span>
                        <h1 style={{fontSize: '2.5rem', marginBottom: '16px'}}>Choose Your VPN</h1>
                        <p className="text-body-md" style={{maxWidth:'600px', margin:'0 auto'}}>
                            Independent, data-driven analysis of 26 global VPN providers to secure your digital footprint.
                        </p>
                    </div>

                    <div className="layout-grid" style={{marginTop:'-12px'}}>
                        {useCases.map((uc, i) => (
                            <div key={i} className="decision-card" onClick={() => onRecClick(uc.rec)}>
                                <div className="decision-icon">{uc.icon}</div>
                                <h3 style={{fontSize:'1.25rem', marginBottom:'8px'}}>{uc.title}</h3>
                                <p className="text-body-md" style={{flexGrow:1, marginBottom:'16px'}}>{uc.desc}</p>
                                <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', borderTop:'1px dashed var(--md-sys-color-outline-variant)', paddingTop:'16px'}}>
                                    <span style={{fontSize:'0.75rem', fontWeight:600, color:'var(--md-sys-color-secondary)'}}>RECOMMENDED</span>
                                    <span style={{fontSize:'1rem', fontWeight:700, color:'var(--md-sys-color-primary)'}}>{uc.rec} &rarr;</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // --- GRID VIEW ---
        function GridView({ vpns, favorites, toggleFav, highlighted }) {
            const [search, setSearch] = useState('');
            const filtered = vpns.filter(v => v.name.toLowerCase().includes(search.toLowerCase()));

            return (
                <div className="animate-fade-up">
                    <div style={{maxWidth:'600px', margin:'40px auto 24px', padding:'0 24px'}}>
                        <input type="text" placeholder="Search 26 providers..." 
                            style={{width:'100%', padding:'16px', borderRadius:'99px', border:'1px solid var(--md-sys-color-outline-variant)', background:'var(--md-sys-color-surface-container-high)', fontSize:'1rem', fontFamily:'inherit'}}
                            onChange={e => setSearch(e.target.value)}
                        />
                    </div>
                    <div className="layout-grid">
                        {filtered.map(vpn => (
                            <VPNCard key={vpn.name} vpn={vpn} isFav={favorites.includes(vpn.name)} toggleFav={toggleFav} highlighted={highlighted === vpn.name} />
                        ))}
                    </div>
                </div>
            );
        }

        function VPNCard({ vpn, isFav, toggleFav, highlighted }) {
            const [expanded, setExpanded] = useState(false);
            const [tab, setTab] = useState('speed');
            const cardRef = useRef(null);

            useEffect(() => {
                if (highlighted && cardRef.current) {
                    cardRef.current.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setExpanded(true);
                }
            }, [highlighted]);

            return (
                <div ref={cardRef} className={`stitch-card ${highlighted ? 'highlight-card' : ''}`}>
                    <div className="card-header-row">
                        <div>
                            <span className="rank-tag">RANK #{vpn.rank}</span>
                            <h2 style={{fontSize:'1.5rem'}}>{vpn.name}</h2>
                        </div>
                        <div className="score-circle">{vpn.overallScore}</div>
                    </div>

                    <div className="data-pill-grid">
                        <div className="data-pill">
                            <span className="data-label">Price (2yr)</span>
                            <span className="data-val">{vpn.price.twoYear}</span>
                        </div>
                        <div className="data-pill">
                            <span className="data-label">Servers</span>
                            <span className="data-val">{vpn.servers}</span>
                        </div>
                    </div>

                    {expanded ? (
                        <div style={{animation: 'fadeUp 0.3s ease'}}>
                            <div className="inner-tabs">
                                {['Speed', 'Privacy', 'Stream', 'Tech'].map(t => (
                                    <button key={t} className={`inner-tab ${tab === t.toLowerCase() ? 'active' : ''}`} onClick={() => setTab(t.toLowerCase())}>{t}</button>
                                ))}
                            </div>
                            <div style={{minHeight:'100px', fontSize:'0.9rem'}}>
                                {tab === 'speed' && <div>
                                    <div style={{display:'flex', justifyContent:'space-between'}}><span>Download</span> <b>{vpn.speeds.download} Mbps</b></div>
                                    <div className="speed-track"><div className="speed-fill" style={{width:`${(vpn.speeds.download/500)*100}%`}}></div></div>
                                    <div style={{marginTop:'12px', display:'flex', justifyContent:'space-between'}}><span>Latency</span> <b>{vpn.speeds.latency} ms</b></div>
                                </div>}
                                {tab === 'privacy' && <div>
                                    <div><b>Jurisdiction:</b> {vpn.jurisdiction}</div>
                                    <div style={{margin:'8px 0'}}><b>Logs:</b> {vpn.noLogs}</div>
                                    <div><b>Audit:</b> {vpn.audit}</div>
                                </div>}
                                {tab === 'stream' && <div>
                                    <div style={{display:'flex', gap:'8px', flexWrap:'wrap'}}>
                                        <span style={{opacity: vpn.streamingServices.netflix ? 1 : 0.4}}>üì∫ Netflix</span>
                                        <span style={{opacity: vpn.streamingServices.hulu ? 1 : 0.4}}>üì∫ Hulu</span>
                                        <span style={{opacity: vpn.streamingServices.bbc ? 1 : 0.4}}>üì∫ BBC</span>
                                    </div>
                                    <p style={{marginTop:'8px', fontSize:'0.8rem'}}>{vpn.details.streaming}</p>
                                </div>}
                                {tab === 'tech' && <div>
                                    <div>{vpn.protocols.join(', ')}</div>
                                    <div style={{margin:'8px 0'}}>{vpn.encryption}</div>
                                    <div>Kill Switch: {vpn.features.killSwitch ? 'Yes' : 'No'}</div>
                                </div>}
                            </div>
                            <div style={{display:'flex', gap:'8px', marginTop:'24px'}}>
                                <button className="btn-tonal btn" onClick={() => setExpanded(false)}>Collapse</button>
                                <button className={`btn-icon ${isFav ? 'active' : ''}`} onClick={() => toggleFav(vpn.name)}>‚ô•</button>
                            </div>
                        </div>
                    ) : (
                        <div style={{marginTop:'auto', paddingTop:'16px', display:'flex', gap:'8px'}}>
                            <button className="btn-filled btn" style={{flexGrow:1}} onClick={() => setExpanded(true)}>View Details</button>
                            <button className={`btn-icon ${isFav ? 'active' : ''}`} onClick={() => toggleFav(vpn.name)}>‚ô•</button>
                        </div>
                    )}
                </div>
            );
        }

        // --- SPEED ANALYSIS ---
        function SpeedAnalysisView({ vpns }) {
            const sorted = useMemo(() => [...vpns].sort((a,b) => b.speeds.download - a.speeds.download), [vpns]);
            return (
                <div className="layout-grid animate-fade-up">
                    <div className="stitch-card" style={{gridColumn: '1 / -1'}}>
                        <h2 style={{marginBottom:'24px'}}>Global Speed Index</h2>
                        {sorted.map(v => (
                            <div key={v.name} style={{display:'flex', alignItems:'center', marginBottom:'16px'}}>
                                <div style={{width:'140px', fontWeight:600}}>{v.name}</div>
                                <div style={{flexGrow:1, background:'var(--md-sys-color-surface-container-high)', height:'24px', borderRadius:'12px', overflow:'hidden', position:'relative'}}>
                                    <div style={{width:`${(v.speeds.download/500)*100}%`, background:'var(--md-sys-color-primary)', height:'100%', borderRadius:'12px'}}></div>
                                </div>
                                <div style={{width:'80px', textAlign:'right', fontWeight:700}}>{v.speeds.download}</div>
                            </div>
                        ))}
                    </div>
                </div>
            )
        }

        // --- COMPARE VIEW ---
        function CompareView({ vpns, favorites }) {
            const selected = vpns.filter(v => favorites.includes(v.name));
            if (selected.length < 2) return <div style={{padding:'48px', textAlign:'center'}}>Select at least 2 favorites to compare.</div>;
            
            return (
                <div style={{overflowX:'auto', padding:'24px'}} className="animate-fade-up">
                    <div style={{display:'flex', gap:'16px', minWidth:'100%'}}>
                        {selected.map(v => (
                            <div key={v.name} className="stitch-card" style={{minWidth:'280px', flex:1}}>
                                <h3 style={{fontSize:'1.5rem', marginBottom:'16px'}}>{v.name}</h3>
                                <div style={{marginBottom:'16px', fontSize:'2rem', fontWeight:700, color:'var(--md-sys-color-primary)'}}>{v.overallScore}</div>
                                {Object.entries({
                                    'Price (2yr)': v.price.twoYear,
                                    'Download': v.speeds.download + ' Mbps',
                                    'Servers': v.servers,
                                    'Jurisdiction': v.jurisdiction,
                                    'No-Logs': v.noLogs,
                                    'Audit': v.audit
                                }).map(([k, val]) => (
                                    <div key={k} style={{display:'flex', justifyContent:'space-between', padding:'12px 0', borderBottom:'1px solid var(--md-sys-color-outline-variant)'}}>
                                        <span style={{color:'var(--md-sys-color-secondary)'}}>{k}</span>
                                        <span style={{fontWeight:600}}>{val}</span>
                                    </div>
                                ))}
                            </div>
                        ))}
                    </div>
                </div>
            )
        }

        // --- FOOTER & MODAL ---
        function Footer({ onMethodology }) {
            return (
                <footer style={{textAlign:'center', padding:'48px 24px', color:'var(--md-sys-color-secondary)'}}>
                    <div style={{fontWeight:700, marginBottom:'8px'}}>VPN Compass 2026</div>
                    <div style={{fontSize:'0.85rem'}}>Data verified independently. Connection encrypted.</div>
                    <button onClick={onMethodology} style={{background:'none', border:'none', color:'var(--md-sys-color-primary)', marginTop:'16px', cursor:'pointer', fontWeight:500}}>View Methodology</button>
                </footer>
            );
        }

        function MethodologyModal({ onClose }) {
            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal-surface" onClick={e => e.stopPropagation()}>
                        <h2 style={{marginBottom:'24px'}}>Scoring Methodology</h2>
                        <p className="text-body-md" style={{marginBottom:'24px'}}>Our 2026 ranking system is based on 4 key weighted pillars:</p>
                        <ul style={{paddingLeft:'20px', lineHeight:'1.8'}}>
                            <li><b>Security (35%):</b> Encryption standards, Kill Switch reliability, and independent audits.</li>
                            <li><b>Privacy (30%):</b> Logging policy verification, jurisdiction, and ownership transparency.</li>
                            <li><b>Speed (20%):</b> Automated daily speed tests from 5 global locations.</li>
                            <li><b>Usability (15%):</b> App design, streaming unblocking, and support.</li>
                        </ul>
                        <button className="btn btn-filled" style={{width:'100%', marginTop:'32px'}} onClick={onClose}>Close</button>
                    </div>
                </div>
            )
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
