<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPN Compass 2026 // Network Intelligence</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Manrope:wght@300;400;600;800&family=Oswald:wght@500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Palette: Cyber-Industrial */
            --bg-deep: #050505;
            --bg-panel: #0A0A0A;
            --bg-surface: #111111;
            
            --border-dim: #222222;
            --border-bright: #333333;
            
            --text-primary: #EDEDED;
            --text-secondary: #888888;
            --text-tertiary: #444444;

            --accent-acid: #CCFF00; /* The "Signal" color */
            --accent-cyan: #00F0FF;
            --accent-danger: #FF2A2A;
            
            --font-display: 'Oswald', sans-serif;
            --font-body: 'Manrope', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;

            --ease-snap: cubic-bezier(0.16, 1, 0.3, 1);
        }

        [data-theme="light"] {
            --bg-deep: #F0F2F5;
            --bg-panel: #FFFFFF;
            --bg-surface: #F7F9FC;
            --border-dim: #E2E8F0;
            --border-bright: #CBD5E1;
            --text-primary: #0F172A;
            --text-secondary: #64748B;
            --accent-acid: #4F46E5; 
            --accent-cyan: #06B6D4;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }

        body {
            background-color: var(--bg-deep);
            background-image: 
                linear-gradient(var(--border-dim) 1px, transparent 1px),
                linear-gradient(90deg, var(--border-dim) 1px, transparent 1px);
            background-size: 40px 40px;
            color: var(--text-primary);
            font-family: var(--font-body);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Utility Typography */
        .font-mono { font-family: var(--font-mono); letter-spacing: -0.02em; }
        .font-display { font-family: var(--font-display); text-transform: uppercase; letter-spacing: 0.02em; }
        .text-acid { color: var(--accent-acid); }
        .text-muted { color: var(--text-secondary); }

        /* Animations */
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-enter { animation: slideUp 0.6s var(--ease-snap) forwards; }

        /* HEADER */
        .cyber-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(5, 5, 5, 0.85);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-bright);
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* NAV SCROLL */
        .nav-scroller {
            position: sticky;
            top: 73px; /* Height of header */
            z-index: 90;
            background: var(--bg-deep);
            border-bottom: 1px solid var(--border-dim);
            padding: 12px 0;
            display: flex;
            justify-content: center;
            overflow-x: auto;
            white-space: nowrap;
            -ms-overflow-style: none; 
            scrollbar-width: none; 
        }
        .nav-scroller::-webkit-scrollbar { display: none; }
        
        .nav-btn {
            background: transparent;
            border: 1px solid transparent;
            color: var(--text-secondary);
            padding: 8px 20px;
            font-family: var(--font-mono);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 4px;
            margin: 0 4px;
        }
        .nav-btn:hover { color: var(--text-primary); background: var(--border-dim); }
        .nav-btn.active {
            color: var(--bg-deep);
            background: var(--accent-acid);
            font-weight: 700;
            border-color: var(--accent-acid);
            box-shadow: 0 0 15px rgba(204, 255, 0, 0.2);
        }

        /* GRID SYSTEM */
        .layout-grid {
            max-width: 1440px;
            margin: 40px auto;
            padding: 0 24px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
            align-items: start;
        }

        /* TECH CARDS */
        .tech-card {
            background: var(--bg-panel);
            border: 1px solid var(--border-dim);
            border-radius: 8px;
            position: relative;
            transition: all 0.3s var(--ease-snap);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .tech-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: var(--accent-acid);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s var(--ease-snap);
        }
        .tech-card:hover {
            transform: translateY(-4px);
            border-color: var(--border-bright);
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5);
        }
        .tech-card:hover::before { transform: scaleX(1); }

        .card-header { padding: 20px; border-bottom: 1px solid var(--border-dim); display: flex; justify-content: space-between; align-items: flex-start; }
        .rank-tag { font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-secondary); display: block; margin-bottom: 4px; }
        
        .score-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-dim);
            padding: 4px 12px;
            border-radius: 4px;
            text-align: center;
        }
        .score-val { color: var(--accent-acid); font-family: var(--font-mono); font-weight: 700; font-size: 1.1rem; line-height: 1; }

        .card-body { padding: 20px; font-size: 0.9rem; flex-grow: 1; }
        .spec-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 16px; }
        .spec-item { background: var(--bg-surface); padding: 8px 12px; border-radius: 4px; border: 1px solid var(--border-dim); }
        .spec-label { display: block; font-size: 0.7rem; color: var(--text-secondary); margin-bottom: 2px; font-family: var(--font-mono); }
        .spec-value { font-weight: 600; color: var(--text-primary); }

        .card-footer { padding: 16px 20px; background: var(--bg-surface); border-top: 1px solid var(--border-dim); display: flex; gap: 10px; }

        /* BUTTONS */
        .btn {
            border: none;
            cursor: pointer;
            font-family: var(--font-mono);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            padding: 10px 16px;
            border-radius: 2px;
            transition: 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .btn-primary {
            background: var(--text-primary);
            color: var(--bg-deep);
        }
        .btn-primary:hover {
            background: var(--accent-acid);
            color: black;
        }
        .btn-outline {
            background: transparent;
            border: 1px solid var(--border-bright);
            color: var(--text-primary);
            width: 100%;
        }
        .btn-outline:hover {
            border-color: var(--text-primary);
            background: rgba(255,255,255,0.05);
        }

        /* COMPLEX TABLE STYLES */
        .table-wrapper {
            margin: 0 auto;
            max-width: 1440px;
            padding: 0 24px;
            overflow-x: auto;
            position: relative;
        }
        .tech-table {
            width: 100%;
            border-collapse: separate; 
            border-spacing: 0;
            min-width: 1000px;
            font-size: 0.9rem;
        }
        .tech-table th, .tech-table td {
            padding: 16px;
            border-bottom: 1px solid var(--border-dim);
            background: var(--bg-panel);
            white-space: nowrap;
        }
        .tech-table th {
            text-align: left;
            font-family: var(--font-mono);
            color: var(--text-secondary);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            position: sticky;
            top: 0;
            background: var(--bg-deep);
            z-index: 10;
        }
        .tech-table td:first-child, .tech-table th:first-child {
            position: sticky;
            left: 0;
            z-index: 20;
            border-right: 1px solid var(--accent-acid);
        }
        .tech-table th:first-child { z-index: 30; }

        /* HERO */
        .hero-glitch {
            text-align: center;
            padding: 100px 24px;
            border-bottom: 1px solid var(--border-dim);
            background: radial-gradient(circle at center, rgba(204,255,0,0.05) 0%, transparent 70%);
        }
        .hero-tag {
            display: inline-block;
            border: 1px solid var(--accent-acid);
            color: var(--accent-acid);
            padding: 6px 12px;
            font-family: var(--font-mono);
            font-size: 0.75rem;
            margin-bottom: 24px;
            background: rgba(204,255,0,0.1);
        }

        /* COMPARISON MODULES */
        .comp-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin-top: -50px; 
            position: relative;
            z-index: 10;
        }

        .comp-card {
            background: var(--bg-panel);
            border: 1px solid var(--border-dim);
            border-left: 2px solid var(--accent-acid);
            padding: 24px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: transform 0.3s var(--ease-snap);
        }
        .comp-card:hover { transform: translateY(-5px); border-color: var(--border-bright); }

        .bar-track {
            height: 6px;
            background: var(--bg-surface);
            margin-top: 8px;
            position: relative;
            overflow: hidden;
            border-radius: 2px;
        }
        .bar-fill {
            height: 100%;
            position: absolute; top: 0; left: 0;
            background: var(--accent-acid);
            background-image: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 4px,
                rgba(0,0,0,0.4) 4px,
                rgba(0,0,0,0.4) 8px
            );
            transform-origin: left;
            animation: growBar 1s var(--ease-snap) forwards;
        }
        .bar-fill.secondary {
            background: var(--border-bright);
            background-image: none;
            animation-delay: 0.2s;
        }
        @keyframes growBar { from { transform: scaleX(0); } to { transform: scaleX(1); } }

        .delta-badge {
            position: absolute;
            top: 16px; right: 16px;
            font-family: var(--font-mono);
            font-size: 0.7rem;
            background: rgba(204, 255, 0, 0.1);
            color: var(--accent-acid);
            padding: 4px 8px;
            border: 1px solid var(--accent-acid);
            font-weight: bold;
        }

        /* NEW MODULE STYLES */
        .section-header {
            font-family: var(--font-display);
            font-size: 1.5rem;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .section-header::before {
            content: '';
            display: block; width: 4px; height: 24px;
            background: var(--accent-acid);
        }

        .matrix-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }
        .matrix-table th {
            text-align: left;
            color: var(--text-secondary);
            font-family: var(--font-mono);
            padding: 12px;
            border-bottom: 1px solid var(--border-dim);
        }
        .matrix-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-dim);
            color: var(--text-primary);
        }
        
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            text-align: center;
        }
        .icon-box {
            background: var(--bg-surface);
            border: 1px solid var(--border-dim);
            padding: 16px 8px;
            border-radius: 4px;
        }
        .icon-label {
            font-family: var(--font-mono);
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-top: 8px;
            display: block;
        }

        /* UTILS */
        .status-dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 6px; }
        .dot-green { background: var(--accent-acid); box-shadow: 0 0 8px var(--accent-acid); }
        .dot-red { background: var(--accent-danger); box-shadow: 0 0 8px var(--accent-danger); }
        .check-mark { color: var(--accent-acid); font-weight: bold; }
        .cross-mark { color: var(--text-secondary); opacity: 0.5; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // --- ENRICHED DATA LAYER ---
        const ALL_VPN_DATA = [
            { 
                name: "NordVPN", rank: 1, overallScore: 95, bestFor: "Overall Excellence", price: { monthly: "$12.99", annual: "$4.49", twoYear: "$3.39" }, 
                devices: 10, servers: "8000+", countries: "126+", noLogs: "Verified", jurisdiction: "Panama", streaming: "Excellent", 
                speeds: { download: 455, upload: 92, loss: 9, latency: 25 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, 
                protocols: ["WireGuard", "OpenVPN", "IKEv2"], encryption: "AES-256-GCM", audit: "Deloitte (2025)", moneyBack: "30 days", support: 9,
                // Enhanced fields
                privacyDetails: { ramServers: true, auditFreq: "Annual", warrantCanary: true },
                paymentMethods: ["Credit Card", "PayPal", "Crypto", "Google Pay"],
                platforms: ["Windows", "Mac", "iOS", "Android", "Linux", "TV"],
                streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }
            },
            { 
                name: "ProtonVPN", rank: 2, overallScore: 94, bestFor: "Privacy & Security", price: { monthly: "€9.99", annual: "€5.99", twoYear: "€4.99" }, 
                devices: 10, servers: "15330+", countries: "126+", noLogs: "Verified", jurisdiction: "Switzerland", streaming: "Excellent", 
                speeds: { download: 430, upload: 88, loss: 14, latency: 30 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, 
                protocols: ["WireGuard", "OpenVPN"], encryption: "ChaCha20", audit: "Securitum (2025)", moneyBack: "30 days", support: 9,
                privacyDetails: { ramServers: true, auditFreq: "Bi-Annual", warrantCanary: true },
                paymentMethods: ["Credit Card", "PayPal", "Bitcoin", "Cash (Mail)"],
                platforms: ["Windows", "Mac", "iOS", "Android", "Linux"],
                streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }
            },
            { 
                name: "Surfshark", rank: 3, overallScore: 91, bestFor: "Best Value", price: { monthly: "€12.95", annual: "€3.99", twoYear: "€2.19" }, 
                devices: "Unlimited", servers: "3200+", countries: "100+", noLogs: "Verified", jurisdiction: "Netherlands", streaming: "Excellent", 
                speeds: { download: 445, upload: 90, loss: 11, latency: 28 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, 
                protocols: ["WireGuard", "OpenVPN"], encryption: "ChaCha20", audit: "Cure53 (2025)", moneyBack: "30 days", support: 9,
                privacyDetails: { ramServers: true, auditFreq: "Annual", warrantCanary: false },
                paymentMethods: ["Credit Card", "PayPal", "Crypto", "Amazon Pay"],
                platforms: ["Windows", "Mac", "iOS", "Android", "Linux", "TV"],
                streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }
            },
            { 
                name: "Mullvad", rank: 4, overallScore: 90, bestFor: "Maximum Privacy", price: { monthly: "€5.00", annual: "€5.00", twoYear: "€5.00" }, 
                devices: 5, servers: "691+", countries: "45+", noLogs: "Verified", jurisdiction: "Sweden", streaming: "Good", 
                speeds: { download: 425, upload: 85, loss: 15, latency: 32 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, 
                protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Ros (2024)", moneyBack: "30 days", support: 7,
                privacyDetails: { ramServers: true, auditFreq: "Continuous", warrantCanary: true },
                paymentMethods: ["Cash (Mail)", "Crypto", "Voucher", "Card"],
                platforms: ["Windows", "Mac", "iOS", "Android", "Linux"],
                streamingServices: { netflix: false, hulu: false, bbc: true, disney: false }
            },
            { 
                name: "ExpressVPN", rank: 6, overallScore: 88, bestFor: "Global Network", price: { monthly: "$12.95", annual: "$6.67", twoYear: "$6.67" }, 
                devices: 8, servers: "3200+", countries: "100+", noLogs: "Verified", jurisdiction: "BVI", streaming: "Excellent", 
                speeds: { download: 410, upload: 82, loss: 18, latency: 31 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, 
                protocols: ["Lightway", "OpenVPN"], encryption: "AES-256", audit: "KPMG (2024)", moneyBack: "30 days", support: 9,
                privacyDetails: { ramServers: true, auditFreq: "Annual", warrantCanary: false },
                paymentMethods: ["Credit Card", "PayPal", "Bitcoin"],
                platforms: ["Windows", "Mac", "iOS", "Android", "Linux", "Router"],
                streamingServices: { netflix: true, hulu: true, bbc: true, disney: true }
            }
        ];
        
        // Fill rest with basic data for table view
        const FULL_VPN_LIST = [...ALL_VPN_DATA, 
            { name: "Private Internet Access", rank: 5, overallScore: 87, bestFor: "US-based Users", price: { monthly: "$11.95", annual: "$3.33", twoYear: "$2.11" }, devices: "Unlimited", servers: "34000+", countries: "90+", noLogs: "Verified", jurisdiction: "USA", streaming: "Good", speeds: { download: 380, upload: 76, loss: 24, latency: 35 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Deloitte (2024)", moneyBack: "30 days", support: 8 },
            { name: "CyberGhost", rank: 7, overallScore: 85, bestFor: "Streaming", price: { monthly: "€12.99", annual: "€2.19", twoYear: "€2.03" }, devices: 7, servers: "11700+", countries: "100+", noLogs: "Verified", jurisdiction: "Romania", streaming: "Excellent", speeds: { download: 420, upload: 84, loss: 16, latency: 33 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "ChaCha20", audit: "Deloitte (2024)", moneyBack: "45 days", support: 9 },
            { name: "Windscribe", rank: 8, overallScore: 82, bestFor: "Free Tier", price: { monthly: "$9.00", annual: "$4.08", twoYear: "$3.00" }, devices: "Unlimited", servers: "Undisclosed", countries: "69+", noLogs: "Claimed", jurisdiction: "Canada", streaming: "Good", speeds: { download: 350, upload: 70, loss: 30, latency: 45 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "KPMG (2024)", moneyBack: "3 days", support: 6 },
            { name: "IVPN", rank: 9, overallScore: 81, bestFor: "Transparency", price: { monthly: "$6.00", annual: "$5.00", twoYear: "$4.00" }, devices: 7, servers: "70+", countries: "32+", noLogs: "Verified", jurisdiction: "Gibraltar", streaming: "Poor", speeds: { download: 390, upload: 80, loss: 12, latency: 29 }, features: { killSwitch: true, splitTunnel: true, adBlock: true, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Cure53 (2024)", moneyBack: "30 days", support: 8 },
            { name: "AirVPN", rank: 10, overallScore: 78, bestFor: "Advanced Users", price: { monthly: "€7.00", annual: "€4.00", twoYear: "€3.00" }, devices: 5, servers: "200+", countries: "23+", noLogs: "Verified", jurisdiction: "Italy", streaming: "Average", speeds: { download: 340, upload: 65, loss: 22, latency: 38 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: true }, protocols: ["OpenVPN"], encryption: "AES-256", audit: "Independent", moneyBack: "30 days", support: 7 },
            { name: "IPVanish", rank: 12, overallScore: 76, bestFor: "Unlimited Devices", price: { monthly: "$11.99", annual: "$3.33", twoYear: "$2.50" }, devices: "Unlimited", servers: "2200+", countries: "75+", noLogs: "Verified", jurisdiction: "USA", streaming: "Good", speeds: { download: 415, upload: 80, loss: 15, latency: 30 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Leviathan (2024)", moneyBack: "30 days", support: 8 },
            { name: "Hotspot Shield", rank: 16, overallScore: 70, bestFor: "Speed (Proprietary)", price: { monthly: "$12.99", annual: "$7.99", twoYear: "$6.00" }, servers: "1800+", countries: "80+", noLogs: "Claimed", jurisdiction: "USA", streaming: "Good", speeds: { download: 440, upload: 90, loss: 8, latency: 24 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["Hydra"], encryption: "AES-128/256", audit: "Not Audited", moneyBack: "45 days", support: 8 },
            { name: "TunnelBear", rank: 17, overallScore: 68, bestFor: "Beginners", price: { monthly: "$9.99", annual: "$4.99", twoYear: "$3.33" }, servers: "5000+", countries: "48+", noLogs: "Verified", jurisdiction: "Canada", streaming: "Poor", speeds: { download: 280, upload: 45, loss: 35, latency: 50 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: false }, protocols: ["OpenVPN", "IKEv2"], encryption: "AES-256", audit: "Cure53 (2024)", moneyBack: "None", support: 7 },
            { name: "PureVPN", rank: 21, overallScore: 58, bestFor: "Price", price: { monthly: "$10.95", annual: "$1.99", twoYear: "$1.33" }, servers: "6500+", countries: "78+", noLogs: "Verified", jurisdiction: "BVI", streaming: "Average", speeds: { download: 360, upload: 65, loss: 25, latency: 38 }, features: { killSwitch: true, splitTunnel: true, adBlock: false, portForward: true }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "KPMG (2024)", moneyBack: "31 days", support: 7 },
            { name: "PrivadoVPN", rank: 24, overallScore: 50, bestFor: "Free Tier Streaming", price: { monthly: "$10.99", annual: "$2.50", twoYear: "$1.99" }, servers: "300+", countries: "48+", noLogs: "Claimed", jurisdiction: "Switzerland", streaming: "Good", speeds: { download: 340, upload: 60, loss: 25, latency: 40 }, features: { killSwitch: true, splitTunnel: false, adBlock: false, portForward: false }, protocols: ["WireGuard", "OpenVPN"], encryption: "AES-256", audit: "Not Audited", moneyBack: "30 days", support: 8 }
        ];

        // --- COMPONENTS ---

        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [favorites, setFavorites] = useState(() => JSON.parse(localStorage.getItem('vpn_compass_favs') || '[]'));
            const [theme, setTheme] = useState('dark');

            useEffect(() => {
                document.documentElement.setAttribute('data-theme', theme);
            }, [theme]);

            const toggleFav = (name) => {
                const newFavs = favorites.includes(name) 
                    ? favorites.filter(n => n !== name) 
                    : [...favorites, name];
                setFavorites(newFavs);
                localStorage.setItem('vpn_compass_favs', JSON.stringify(newFavs));
            };

            return (
                <div>
                    <Header theme={theme} setTheme={setTheme} />
                    
                    <div className="nav-scroller">
                        <div style={{ maxWidth: '1440px', margin: '0 auto', display: 'flex', padding: '0 24px' }}>
                            {['dashboard', 'grid', 'table', 'favorites'].map(tab => (
                                <button 
                                    key={tab}
                                    className={`nav-btn ${activeTab === tab ? 'active' : ''}`}
                                    onClick={() => setActiveTab(tab)}
                                >
                                    {tab.toUpperCase()}
                                </button>
                            ))}
                        </div>
                    </div>

                    <main style={{ minHeight: '80vh' }}>
                        {activeTab === 'dashboard' && <DashboardView onNav={setActiveTab} />}
                        {activeTab === 'grid' && <GridView vpns={FULL_VPN_LIST} favorites={favorites} toggleFav={toggleFav} />}
                        {activeTab === 'table' && <TableView vpns={FULL_VPN_LIST} />}
                        {activeTab === 'favorites' && <GridView vpns={FULL_VPN_LIST.filter(v => favorites.includes(v.name))} favorites={favorites} toggleFav={toggleFav} emptyMsg="No favorites tracked." />}
                    </main>

                    <Footer />
                </div>
            );
        }

        function Header({ theme, setTheme }) {
            return (
                <header className="cyber-header">
                    <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
                        <div style={{ width: '40px', height: '40px', background: 'var(--text-primary)', color: 'var(--bg-deep)', display: 'grid', placeItems: 'center', fontWeight: 'bold', fontSize: '1.5rem', fontFamily: 'var(--font-display)' }}>
                            V
                        </div>
                        <div>
                            <h1 className="font-display" style={{ fontSize: '1.2rem', lineHeight: 1 }}>VPN Compass</h1>
                            <div className="font-mono text-muted" style={{ fontSize: '0.7rem' }}>SYSTEM V.2026.01 // ONLINE</div>
                        </div>
                    </div>
                    <button onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')} className="btn" style={{ background: 'var(--bg-surface)', border: '1px solid var(--border-dim)' }}>
                        {theme === 'dark' ? 'LIGHT MODE' : 'DARK MODE'}
                    </button>
                </header>
            );
        }

        // --- ENRICHED DASHBOARD ---
        function DashboardView({ onNav }) {
            // Filter top providers that have the detailed enriched data
            const topProviders = ALL_VPN_DATA.slice(0, 5);

            return (
                <div className="animate-enter">
                    <section className="hero-glitch" style={{ paddingBottom: '120px' }}>
                        <span className="hero-tag">INTELLIGENCE REPORT // JANUARY 2026</span>
                        <h1 className="font-display" style={{ fontSize: 'clamp(2.5rem, 5vw, 4rem)', marginBottom: '16px', lineHeight: 0.9 }}>
                            SECURE YOUR<br/>DIGITAL FOOTPRINT
                        </h1>
                        <p className="text-muted" style={{ maxWidth: '600px', margin: '0 auto 32px' }}>
                            Analyzed 26 providers against 15 security parameters. Unbiased data. Verified speed tests.
                        </p>
                        <div style={{ display: 'flex', gap: '16px', justifyContent: 'center' }}>
                            <button className="btn btn-primary" onClick={() => onNav('grid')}>INITIATE COMPARISON</button>
                            <button className="btn btn-outline" onClick={() => onNav('table')}>RAW DATA</button>
                        </div>
                    </section>

                    <div style={{ maxWidth: '1440px', margin: '0 auto', padding: '0 24px', paddingBottom: '80px' }}>
                        {/* 1. TACTICAL METRICS */}
                        <div className="comp-grid" style={{ marginBottom: '80px' }}>
                            <TacticalComparison 
                                label="VELOCITY BENCHMARK"
                                winner="NordVPN" winnerVal="455 Mbps"
                                loser="Avg. Provider" loserVal="210 Mbps"
                                delta="+116% FASTER" type="speed"
                            />
                            <TacticalComparison 
                                label="COST EFFICIENCY"
                                winner="Surfshark" winnerVal="$2.19 / mo"
                                loser="ExpressVPN" loserVal="$6.67 / mo"
                                delta="67% CHEAPER" type="price"
                            />
                            <TacticalComparison 
                                label="SERVER NETWORK"
                                winner="PIA" winnerVal="34,000 Nodes"
                                loser="NordVPN" loserVal="6,000 Nodes"
                                delta="5X COVERAGE" type="network"
                            />
                        </div>

                        {/* 2. SECURITY MATRIX */}
                        <div className="animate-enter" style={{ animationDelay: '0.2s', marginBottom: '60px' }}>
                            <h2 className="section-header">SECURITY PROTOCOLS</h2>
                            <div className="tech-card">
                                <div style={{ overflowX: 'auto' }}>
                                    <table className="matrix-table">
                                        <thead>
                                            <tr>
                                                <th>PROVIDER</th>
                                                <th>JURISDICTION</th>
                                                <th>LOGGING POLICY</th>
                                                <th>AUDIT FREQ.</th>
                                                <th>RAM SERVERS</th>
                                                <th>WARRANT CANARY</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {topProviders.map(v => (
                                                <tr key={v.name}>
                                                    <td className="font-display">{v.name}</td>
                                                    <td>{v.jurisdiction}</td>
                                                    <td className="text-acid">{v.noLogs}</td>
                                                    <td className="font-mono">{v.privacyDetails.auditFreq}</td>
                                                    <td>{v.privacyDetails.ramServers ? <span className="status-dot dot-green"></span> : <span className="status-dot dot-red"></span>}</td>
                                                    <td>{v.privacyDetails.warrantCanary ? <span className="check-mark">✓</span> : <span className="cross-mark">✗</span>}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        {/* 3. STREAMING & PLATFORMS SPLIT */}
                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '24px', marginBottom: '60px' }}>
                            {/* Streaming */}
                            <div className="animate-enter" style={{ animationDelay: '0.3s' }}>
                                <h2 className="section-header">CONTENT DECRYPTION</h2>
                                <div className="tech-card" style={{ padding: '24px' }}>
                                    {topProviders.map(v => (
                                        <div key={v.name} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px', paddingBottom: '16px', borderBottom: '1px solid var(--border-dim)' }}>
                                            <span className="font-mono">{v.name}</span>
                                            <div style={{ display: 'flex', gap: '12px' }}>
                                                <StreamIcon active={v.streamingServices.netflix} label="NFLX" />
                                                <StreamIcon active={v.streamingServices.hulu} label="HULU" />
                                                <StreamIcon active={v.streamingServices.bbc} label="BBC" />
                                                <StreamIcon active={v.streamingServices.disney} label="DIS+" />
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Platforms */}
                            <div className="animate-enter" style={{ animationDelay: '0.4s' }}>
                                <h2 className="section-header">DEVICE VECTOR</h2>
                                <div className="tech-card" style={{ padding: '24px' }}>
                                    {topProviders.map(v => (
                                        <div key={v.name} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px', paddingBottom: '16px', borderBottom: '1px solid var(--border-dim)' }}>
                                            <div>
                                                <div className="font-mono">{v.name}</div>
                                                <div className="text-muted" style={{ fontSize: '0.7rem' }}>{v.devices} Conn.</div>
                                            </div>
                                            <div style={{ display: 'flex', gap: '6px' }}>
                                                {v.platforms.includes('Windows') && <span className="icon-box" style={{padding: '4px 8px', fontSize: '0.7rem'}}>WIN</span>}
                                                {v.platforms.includes('Mac') && <span className="icon-box" style={{padding: '4px 8px', fontSize: '0.7rem'}}>MAC</span>}
                                                {v.platforms.includes('iOS') && <span className="icon-box" style={{padding: '4px 8px', fontSize: '0.7rem'}}>iOS</span>}
                                                {v.platforms.includes('Linux') && <span className="icon-box" style={{padding: '4px 8px', fontSize: '0.7rem'}}>LIN</span>}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        {/* 4. PAYMENT & ANONYMITY */}
                        <div className="animate-enter" style={{ animationDelay: '0.5s' }}>
                            <h2 className="section-header">TRANSACTION ANONYMITY</h2>
                            <div className="tech-card" style={{ padding: '24px' }}>
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '24px' }}>
                                    {topProviders.map(v => (
                                        <div key={v.name} style={{ border: '1px solid var(--border-dim)', padding: '16px', borderRadius: '4px' }}>
                                            <div className="font-display" style={{ marginBottom: '12px' }}>{v.name}</div>
                                            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>
                                                {v.paymentMethods.map(pm => (
                                                    <span key={pm} style={{ fontSize: '0.7rem', background: pm.includes('Cash') || pm.includes('Crypto') ? 'rgba(204,255,0,0.1)' : 'var(--bg-surface)', color: pm.includes('Cash') || pm.includes('Crypto') ? 'var(--accent-acid)' : 'var(--text-secondary)', padding: '4px 8px', border: '1px solid var(--border-dim)' }}>
                                                        {pm}
                                                    </span>
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            );
        }

        function StreamIcon({ active, label }) {
            return (
                <div style={{ textAlign: 'center', opacity: active ? 1 : 0.3 }}>
                    <div style={{ width: '32px', height: '20px', background: active ? 'var(--accent-acid)' : 'var(--border-dim)', borderRadius: '2px', marginBottom: '4px' }}></div>
                    <span style={{ fontSize: '0.6rem', fontFamily: 'var(--font-mono)' }}>{label}</span>
                </div>
            );
        }

        function TacticalComparison({ label, winner, winnerVal, loser, loserVal, delta, type }) {
            const isPrice = type === 'price';
            const wPercent = isPrice ? '40%' : '90%';
            const lPercent = isPrice ? '90%' : '45%';
            
            return (
                <div className="comp-card">
                    <div className="delta-badge">{delta}</div>
                    <div className="font-mono text-muted" style={{ fontSize: '0.7rem', marginBottom: '16px', letterSpacing: '0.05em' }}>
                        // {label}
                    </div>

                    <div style={{ marginBottom: '16px' }}>
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>
                            <span className="font-display" style={{ fontSize: '1.25rem' }}>{winner}</span>
                            <span className="font-mono text-acid" style={{ fontWeight: 'bold' }}>{winnerVal}</span>
                        </div>
                        <div className="bar-track">
                            <div className="bar-fill" style={{ width: wPercent }}></div>
                        </div>
                    </div>

                    <div>
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>
                            <span className="font-mono text-muted" style={{ fontSize: '0.85rem' }}>{loser}</span>
                            <span className="font-mono text-muted" style={{ fontSize: '0.85rem' }}>{loserVal}</span>
                        </div>
                        <div className="bar-track">
                            <div className="bar-fill secondary" style={{ width: lPercent }}></div>
                        </div>
                    </div>
                </div>
            );
        }

        function GridView({ vpns, favorites, toggleFav, emptyMsg }) {
            const [search, setSearch] = useState('');
            
            const filtered = vpns.filter(v => v.name.toLowerCase().includes(search.toLowerCase()));

            if (filtered.length === 0 && emptyMsg) {
                return <div style={{ padding: '100px', textAlign: 'center' }} className="text-muted font-mono">{emptyMsg}</div>;
            }

            return (
                <div className="animate-enter">
                    <div style={{ maxWidth: '1440px', margin: '40px auto 0', padding: '0 24px' }}>
                        <input 
                            type="text" 
                            placeholder="SEARCH DATABASE..." 
                            style={{ width: '100%', maxWidth: '400px', background: 'var(--bg-panel)', border: '1px solid var(--border-dim)', padding: '12px', color: 'var(--text-primary)', fontFamily: 'var(--font-mono)' }}
                            onChange={e => setSearch(e.target.value)}
                        />
                    </div>
                    <div className="layout-grid">
                        {filtered.map(vpn => (
                            <VPNCard key={vpn.name} vpn={vpn} isFav={favorites.includes(vpn.name)} toggleFav={toggleFav} />
                        ))}
                    </div>
                </div>
            );
        }

        function VPNCard({ vpn, isFav, toggleFav }) {
            const [expanded, setExpanded] = useState(false);

            return (
                <div className="tech-card">
                    <div className="card-header">
                        <div>
                            <span className="rank-tag">RANKING #{vpn.rank < 10 ? `0${vpn.rank}` : vpn.rank}</span>
                            <h3 className="font-display" style={{ fontSize: '1.4rem' }}>{vpn.name}</h3>
                        </div>
                        <div className="score-box">
                            <div className="score-val">{vpn.overallScore}</div>
                            <div style={{ fontSize: '0.6rem', color: 'var(--text-secondary)' }}>SCORE</div>
                        </div>
                    </div>
                    
                    <div className="card-body">
                        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '16px' }}>
                            <span className={vpn.speeds.loss < 20 ? "status-dot dot-green" : "status-dot dot-red"}></span>
                            <span className="font-mono text-muted" style={{ fontSize: '0.75rem' }}>
                                STATUS: {vpn.speeds.loss < 20 ? 'OPTIMAL' : 'DEGRADED'}
                            </span>
                        </div>
                        
                        <div className="spec-grid">
                            <div className="spec-item">
                                <span className="spec-label">SPEED (DL)</span>
                                <span className="spec-value">{vpn.speeds.download} Mbps</span>
                            </div>
                            <div className="spec-item">
                                <span className="spec-label">MONTHLY</span>
                                <span className="spec-value">{vpn.price.annual}</span>
                            </div>
                            <div className="spec-item">
                                <span className="spec-label">JURISDICTION</span>
                                <span className="spec-value">{vpn.jurisdiction}</span>
                            </div>
                            <div className="spec-item">
                                <span className="spec-label">SERVERS</span>
                                <span className="spec-value">{vpn.servers}</span>
                            </div>
                        </div>

                        {expanded && (
                            <div style={{ marginTop: '16px', paddingTop: '16px', borderTop: '1px solid var(--border-dim)', animation: 'slideUp 0.3s ease' }}>
                                <div className="spec-grid" style={{ gridTemplateColumns: '1fr' }}>
                                    <div className="spec-item" style={{ display: 'flex', justifyContent: 'space-between' }}>
                                        <span className="spec-label">ENCRYPTION</span>
                                        <span className="spec-value font-mono" style={{ fontSize: '0.75rem' }}>{vpn.encryption}</span>
                                    </div>
                                    <div className="spec-item" style={{ display: 'flex', justifyContent: 'space-between' }}>
                                        <span className="spec-label">AUDIT FIRM</span>
                                        <span className="spec-value font-mono" style={{ fontSize: '0.75rem' }}>{vpn.audit}</span>
                                    </div>
                                    <div className="spec-item">
                                        <span className="spec-label">PROTOCOLS</span>
                                        <div style={{ display: 'flex', gap: '4px', flexWrap: 'wrap', marginTop: '4px' }}>
                                            {vpn.protocols.map(p => (
                                                <span key={p} style={{ fontSize: '0.7rem', border: '1px solid var(--border-dim)', padding: '2px 6px', color: 'var(--text-secondary)' }}>{p}</span>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>

                    <div className="card-footer">
                        <button className="btn btn-outline" onClick={() => setExpanded(!expanded)}>
                            {expanded ? 'COLLAPSE DATA' : 'FULL SPECS'}
                        </button>
                        <button className="btn" style={{ background: isFav ? 'var(--accent-danger)' : 'var(--border-dim)', color: 'white', width: '50px' }} onClick={() => toggleFav(vpn.name)}>
                            {isFav ? '♥' : '♡'}
                        </button>
                    </div>
                </div>
            );
        }

        function TableView({ vpns }) {
            return (
                <div className="animate-enter" style={{ padding: '40px 0' }}>
                    <div className="table-wrapper">
                        <table className="tech-table">
                            <thead>
                                <tr>
                                    <th>PROVIDER</th>
                                    <th>SCORE</th>
                                    <th>PRICE (2YR)</th>
                                    <th>SPEED (DL)</th>
                                    <th>LATENCY</th>
                                    <th>SERVERS</th>
                                    <th>COUNTRIES</th>
                                    <th>LOGGING</th>
                                    <th>KILL SWITCH</th>
                                </tr>
                            </thead>
                            <tbody>
                                {vpns.map((v, i) => (
                                    <tr key={i}>
                                        <td className="font-display" style={{ fontWeight: 'bold', color: 'var(--text-primary)' }}>{v.name}</td>
                                        <td><span style={{ color: 'var(--accent-acid)', fontWeight: 'bold' }}>{v.overallScore}</span></td>
                                        <td className="font-mono">{v.price.twoYear}</td>
                                        <td className="font-mono">{v.speeds.download} Mbps</td>
                                        <td className="font-mono">{v.speeds.latency} ms</td>
                                        <td>{v.servers}</td>
                                        <td>{v.countries}</td>
                                        <td className={v.noLogs === 'Verified' ? 'text-acid' : 'text-muted'}>{v.noLogs}</td>
                                        <td style={{ color: v.features.killSwitch ? 'var(--accent-acid)' : 'var(--accent-danger)' }}>{v.features.killSwitch ? 'ENABLED' : 'MISSING'}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>
            );
        }

        function Footer() {
            return (
                <footer style={{ borderTop: '1px solid var(--border-dim)', padding: '40px 24px', textAlign: 'center', color: 'var(--text-secondary)' }}>
                    <div className="font-display" style={{ marginBottom: '16px' }}>VPN COMPASS // 2026</div>
                    <div className="font-mono" style={{ fontSize: '0.75rem' }}>
                        DATA VERIFIED INDEPENDENTLY. CONNECTION ENCRYPTED.<br/>
                        &copy; 2026 SYSTEM OPERATIONS.
                    </div>
                </footer>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
