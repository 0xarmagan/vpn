<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate VPN Comparison 2026 - Pro Edition</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Space+Grotesk:wght@500;700&family=Inter:wght@400;600&display=swap');
        
        :root {
            --color-primary: #4F46E5;
            --color-bg: #0F172A;
            --color-bg-secondary: #1E293B;
            --color-text: #F1F5F9;
            --color-text-muted: #94A3B8;
            --color-border: #334155;
            --color-success: #10B981;
        }

        [data-theme="light"] {
            --color-bg: #FFFFFF;
            --color-bg-secondary: #F8FAFC;
            --color-text: #0F172A;
            --color-text-muted: #64748B;
            --color-border: #E2E8F0;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            transition: all 0.3s ease;
        }

        .font-display { font-family: 'Space Grotesk', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }

        .card {
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.2s;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary { background: var(--color-primary); color: white; }
        .btn-secondary { background: var(--color-border); color: var(--color-text); }

        .tabs { display: flex; gap: 10px; margin-bottom: 24px; border-bottom: 1px solid var(--color-border); }
        .tab { padding: 12px; cursor: pointer; background: none; border: none; color: var(--color-text-muted); border-bottom: 2px solid transparent; }
        .tab.active { color: var(--color-primary); border-bottom-color: var(--color-primary); }

        .grid-3 { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .score-badge { padding: 4px 12px; border-radius: 20px; background: var(--color-success); color: white; font-weight: bold; width: fit-content; }
        
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 100; }
        .modal { background: var(--color-bg); padding: 30px; border-radius: 16px; width: 90%; max-width: 500px; border: 1px solid var(--color-border); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        const vpnDataComplete = [
            {"name":"NordVPN","overallScore":95,"rank":1,"bestFor":"Overall Excellence","price":{"monthly":"$12.99","annual":"$4.49","twoYear":"$3.39"},"servers":"8000+","countries":"126+","noLogs":"Verified","streaming":"Excellent","speeds":{"download":455,"upload":92,"loss":9,"latency":25}},
            {"name":"ProtonVPN","overallScore":94,"rank":2,"bestFor":"Privacy & Security","price":{"monthly":"‚Ç¨9.99","annual":"‚Ç¨5.99","twoYear":"‚Ç¨4.99"},"servers":"15330+","countries":"126+","noLogs":"Verified","streaming":"Excellent","speeds":{"download":430,"upload":88,"loss":14,"latency":30}},
            {"name":"Surfshark","overallScore":91,"rank":3,"bestFor":"Best Value","price":{"monthly":"‚Ç¨12.95","annual":"‚Ç¨3.99","twoYear":"‚Ç¨2.19"},"servers":"3200+","countries":"100+","noLogs":"Verified","streaming":"Excellent","speeds":{"download":445,"upload":90,"loss":11,"latency":28}},
            {"name":"Mullvad","overallScore":90,"rank":4,"bestFor":"Maximum Privacy","price":{"monthly":"‚Ç¨5.00","annual":"‚Ç¨5.00","twoYear":"‚Ç¨5.00"},"servers":"691+","countries":"45+","noLogs":"Verified","streaming":"Good","speeds":{"download":425,"upload":85,"loss":15,"latency":32}}
        ];

        function VPNComparisonApp() {
            // Persistent Dark Mode Logic
            const [theme, setTheme] = useState(() => {
                const saved = localStorage.getItem('theme');
                if (saved) return saved;
                return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            });

            const [activeTab, setActiveTab] = useState('home');
            const [favorites, setFavorites] = useState(() => JSON.parse(localStorage.getItem('favorites') || '[]'));
            const [showQuiz, setShowQuiz] = useState(false);

            useEffect(() => {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
            }, [theme]);

            useEffect(() => {
                localStorage.setItem('favorites', JSON.stringify(favorites));
            }, [favorites]);

            const toggleFavorite = (name) => {
                setFavorites(prev => prev.includes(name) ? prev.filter(n => n !== name) : [...prev, name]);
            };

            return (
                <div>
                    <header style={{padding: '20px', borderBottom: '1px solid var(--color-border)', display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                        <h2 className="font-display">VPN Compass Pro</h2>
                        <button className="btn btn-secondary" onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}>
                            {theme === 'dark' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode'}
                        </button>
                    </header>

                    <main style={{maxWidth: '1200px', margin: '0 auto', padding: '24px'}}>
                        <div className="tabs">
                            {['home', 'comparison', 'favorites', 'speedtest'].map(t => (
                                <button key={t} className={`tab ${activeTab === t ? 'active' : ''}`} onClick={() => setActiveTab(t)}>
                                    {t.toUpperCase()}
                                </button>
                            ))}
                        </div>

                        {activeTab === 'home' && (
                            <div style={{textAlign: 'center', padding: '50px 0'}}>
                                <h1 className="font-display" style={{fontSize: '3rem'}}>Find your shield in 2026.</h1>
                                <button className="btn btn-primary" style={{padding: '15px 30px'}} onClick={() => setShowQuiz(true)}>Start Matching Quiz</button>
                            </div>
                        )}

                        {activeTab === 'comparison' && <ComparisonGrid vpns={vpnDataComplete} favorites={favorites} toggleFavorite={toggleFavorite} />}
                        {activeTab === 'speedtest' && <SpeedChart vpns={vpnDataComplete} />}
                    </main>

                    {showQuiz && <QuizModal onClose={() => setShowQuiz(false)} vpns={vpnDataComplete} />}
                </div>
            );
        }

        function ComparisonGrid({ vpns, favorites, toggleFavorite }) {
            return (
                <div className="grid-3">
                    {vpns.map(v => (
                        <div key={v.name} className="card">
                            <h3>{v.name}</h3>
                            <div className="score-badge" style={{marginBottom: '10px'}}>{v.overallScore}/100</div>
                            <p style={{fontSize: '0.9rem', color: 'var(--color-text-muted)'}}>{v.bestFor}</p>
                            <button className="btn btn-secondary" onClick={() => toggleFavorite(v.name)} style={{marginTop: '15px'}}>
                                {favorites.includes(v.name) ? '‚ù§Ô∏è Favorited' : 'ü§ç Add Favorite'}
                            </button>
                        </div>
                    ))}
                </div>
            );
        }

        function SpeedChart({ vpns }) {
            const canvasRef = useRef(null);
            const chartRef = useRef(null);

            useEffect(() => {
                if (chartRef.current) chartRef.current.destroy();
                const ctx = canvasRef.current.getContext('2d');
                chartRef.current = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: vpns.map(v => v.name),
                        datasets: [{
                            label: 'Download Speed (Mbps)',
                            data: vpns.map(v => v.speeds.download),
                            backgroundColor: '#4F46E5',
                            borderRadius: 5
                        }]
                    },
                    options: { 
                        responsive: true, 
                        maintainAspectRatio: false,
                        scales: { y: { beginAtZero: true, grid: { color: 'rgba(255,255,255,0.1)' } } }
                    }
                });
                return () => chartRef.current?.destroy();
            }, [vpns]);

            return <div style={{height: '400px'}} className="card"><canvas ref={canvasRef}></canvas></div>;
        }

        function QuizModal({ onClose, vpns }) {
            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e => e.stopPropagation()}>
                        <h2 className="font-display">VPN Matchmaker</h2>
                        <p>Based on your 2026 needs, we recommend starting with <strong>{vpns[0].name}</strong> for {vpns[0].bestFor}.</p>
                        <button className="btn btn-primary" onClick={onClose} style={{width: '100%', marginTop: '20px'}}>Got it!</button>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<VPNComparisonApp />);
    </script>
</body>
</html>
